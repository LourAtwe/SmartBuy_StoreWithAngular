<header>
  <h1>SmartBuy Store</h1>
</header>

<nav>
  <p id="Lour2">
    <a routerLink="/">Product List</a> |
    <a routerLink="/cart">My Cart ðŸ›’</a>
  </p>
</nav>

<div class="cart-container">
  <div *ngFor="let item of cart; let i = index"
       class="cart-item"
       (click)="goToDetails(i)"
       style="cursor:pointer;">

    <img [src]="item.image" alt="{{item.name}}">
    <h3>{{item.name}}</h3>
    <p>Price: {{item.price | currency}}</p>

    <!-- âœ… ngModel + ngModelChange -->
    <select
      [(ngModel)]="item.qty"
      (ngModelChange)="validateQty(item)"
      (click)="$event.stopPropagation()">

      <option *ngFor="let q of quantities" [value]="q">
        {{ q }}
      </option>
    </select>

    <!-- âœ… Error message -->
    <p class="error" *ngIf="item.qtyError">
      Quantity must be at least 1
    </p>

    <p>Total: {{ item.price * item.qty | currency }}</p>

    <button (click)="addToCart(item); $event.stopPropagation()">
      Add to Cart
    </button>

  </div>
</div>

<h3 class="grand-total">
  Grand Total: {{ getTotal() | currency }}
</h3>
